<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://www.jazzteam.org/Routines" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	name="Работа с браузером" description="Базовые возможности работы с веб-браузером"
	tags="Basic, базовые задачи">

	<import name="tinymce" resource="tinymce/TinyMceTextPrint.xml" />
	
	<test coverage="100" name="01 Перейти на страницу"
		description="Переходим на разные страницы и делаем скриншот и снапшот"
		tags="navigate, screenshot, snapshot">
		<navigate to="http://localhost:${jetty.port}/test/test/registration.htm" />
		<screenshot />
		<snapshot />
		<navigate to="http://localhost:${jetty.port}/test/test/success.htm" />
		<screenshot />
		<snapshot />
	</test>
		  
	<test coverage="100" name="02 Работа с несколькими окнми" 
		  description="Создаем страничку, открываем демонстрационную страничку, и с помощью тега window переключаемся между ними" 
		  tags="window, wordpress" >
		
		<!-- wordpress -->
		<navigate to="http://xml2selenium.com/demowp/"/>
		<webelement xpath="//*[@id='meta-2']//a[@href='http://xml2selenium.com/demowp/wp-login.php']" action="click"/>
		<pause time="1000"/>
		
		<field id="user_login" textToType="admin"/>
		<field id="user_pass" textToType="S|Q0:Vvo3O5C2k5"/>
		<button id="wp-submit"/>
		
		<button xpath="//div[contains(text(), 'Pages')]"/>
		<button xpath="//*[@id='wpbody']//a[@class='add-new-h2']"/>
		<pause time="3000"/>
		
		<field id="title-prompt-text" textToType="Page for window"/>
		
		<button id="content-tmce"/>
		<frame extends="tinymce:tinyMceTextPrint">
			<variable ref="text" value="Test page! :)" />
			<variable ref="instance" value="content" />
		</frame>	
		<pause time="3000"/>
		
		<button id="publish"/>
		<window action="getCurrentWindow" ref="pageAdmin"/>
		
		<webelement xpath="//a[@id='post-preview'][contains(text(), 'Preview Changes')]" action="click"/>
		<window action="getNewWindow" ref="pageDemo"/>
		<window action="goToWindow" where="pageDemo"/>
		<webelement xpath="//li[a[contains(text(), 'Page for window')]]" action="isExists"/>
		<webelement xpath="//header/h1" action="isContainsText" text="Page for window"/>
		
		<window action="goToWindow" where="pageAdmin"/>
		<webelement xpath="//div[@id='delete-action']/a" action="click"/>
		
		<window action="goToWindow" where="pageDemo"/>
		<window action="closeCurrentAndGoToWindow" where="pageAdmin"/>
		<window action="goToWindow" where="pageAdmin"/>
		
		<pause time="3000"/>
		<webelement xpath="//tbody[@id='the-list']/tr/td[@class='post-title page-title column-title']//a[contains(text(), 'Page for window')]" 
					action="isNotExists"/>
					
		<!-- logout -->
		<webelement xpath="//a[@title='My Account']" action="mouseMove"/>
		<webelement xpath="//li[@id='wp-admin-bar-logout']/a" action="isExists"/>
		<webelement xpath="//li[@id='wp-admin-bar-logout']/a" action="click"/>
		<webelement id="login" action="isExists"/>    
	</test>	  
</testcase>	